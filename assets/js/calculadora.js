const valorImpPais=.3,valorImpGanancia=.3,valorImpBienesPersonales=0;function calcularTotal(){let a=parseFloat($('input[name="valor"]').val()||0),t=parseFloat($('input[name="costo"]').val()||0),e=$('select[name="anuales"]').val(),l=parseFloat($('input[name="tasa"]').val()||tasa),n=parseFloat($("#bancoSelect").val()||0),o=parseFloat($('input[name="descuento"]').val()||0),i=parseFloat($("#dolarOficial").val()||0),m=$("#esHistorial").val();a>0&&o<=a+t&&(impPais=.3*(montoSinImpuestos=(a+t-o)*n),impGanancia=.3*montoSinImpuestos,impBienesPersonales=0*montoSinImpuestos,total=montoSinImpuestos+impPais+impGanancia+impBienesPersonales+l+(excedente="si"===e?(a+t-o)*.5*i:a+t>50?(a+t-o-50)*.5*i:0),$("#total").text(`AR${formatoMoneda.format(total)}`),$("#montoSinImpuestos").text(`AR${formatoMoneda.format(montoSinImpuestos)}`),$("#impPais").text(`AR${formatoMoneda.format(impPais)}`),$("#impGanancia").text(`AR${formatoMoneda.format(impGanancia)}`),$("#impBienesPersonales").text(`AR${formatoMoneda.format(impBienesPersonales)}`),$("#vep").text(`AR${formatoMoneda.format(l)}`),$("#excedente").text(`AR${formatoMoneda.format(excedente)}`),modificarTotal(),"false"===m&&guardarEnHistorial())}