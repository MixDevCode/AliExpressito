const valorImpPais=.3,valorImpGanancia=.3,valorImpBienesPersonales=0,billeteras=["Ual\xe1","MercadoPago"];function calcularTotal(){let a=parseFloat($('input[name="valor"]').val()||0),e=parseFloat($('input[name="costo"]').val()||0),t=$('select[name="anuales"]').val(),l=parseFloat($('input[name="tasa"]').val()||tasa),o=parseFloat($("#bancoSelect").val()||0),n=parseFloat($('input[name="descuento"]').val()||0),i=parseFloat($("#dolarOficial").val()||0),s=parseFloat($("#dolarNacion").val()||0),m=$("#esHistorial").val(),r=$("#bancoSelect option:selected").text();a>0&&n<=a+e&&(montoSinImpuestos=(a+e-n)*o,impPais=(montoNacion=billeteras.includes(r)?(a+e-n)*s:0)>0?.3*montoNacion:.3*montoSinImpuestos,impGanancia=montoNacion>0?.3*montoNacion:.3*montoSinImpuestos,impBienesPersonales=montoNacion>0?0*montoNacion:0*montoSinImpuestos,total=montoSinImpuestos+impPais+impGanancia+impBienesPersonales+l+(excedente="si"===t?(a+e-n)*.5*i:a+e>50?(a+e-n-50)*.5*i:0),$("#total").text(`AR${formatoMoneda.format(total)}`),$("#montoSinImpuestos").text(`AR${formatoMoneda.format(montoSinImpuestos)}`),$("#impPais").text(`AR${formatoMoneda.format(impPais)}`),$("#impGanancia").text(`AR${formatoMoneda.format(impGanancia)}`),$("#impBienesPersonales").text(`AR${formatoMoneda.format(impBienesPersonales)}`),$("#vep").text(`AR${formatoMoneda.format(l)}`),$("#excedente").text(`AR${formatoMoneda.format(excedente)}`),modificarTotal(),"false"===m&&guardarEnHistorial())}